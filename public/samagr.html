<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡§∏‡§Æ‡§ó‡•ç‡§∞ ‡§à-‡§ï‡•á‡§µ‡§æ‡§à‡§∏‡•Ä | AllInOne MP</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+Devanagari:wght@400;700&display=swap');
        body {
            font-family: 'Noto Sans Devanagari', sans-serif;
        }
        .form-input {
            width: 100%;
            border: 1px solid #d1d5db;
            padding: 0.75rem;
            border-radius: 0.75rem;
            outline: none;
            transition: all 0.2s;
        }
        .form-input:focus {
            border-color: #1d4ed8;
            box-shadow: 0 0 0 3px rgba(29, 78, 216, 0.1);
        }
        .step-card {
            background: white;
            border-radius: 1.5rem;
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.05);
        }
    </style>
</head>
<body class="bg-gray-50">
    <header id="header"></header>

    <!-- MAIN FORM CONTENT -->
    <main class="container mx-auto px-4 py-10">
        
        <!-- Breadcrumb & Header -->
        <div class="max-w-4xl mx-auto mb-8">
            <nav class="text-sm text-gray-500 mb-2">
                <a href="#" class="hover:text-blue-600">‡§π‡•ã‡§Æ</a> / <span>‡§∏‡•á‡§µ‡§æ‡§è‡§Å</span> / <span class="text-blue-900 font-semibold">‡§∏‡§Æ‡§ó‡•ç‡§∞ ‡§à-‡§ï‡•á‡§µ‡§æ‡§à‡§∏‡•Ä</span>
            </nav>
            <h2 class="text-2xl font-bold text-gray-800 flex items-center gap-3">
                <i class="fas fa-fingerprint text-blue-600"></i>
                ‡§∏‡§Æ‡§ó‡•ç‡§∞ ‡§à-‡§ï‡•á‡§µ‡§æ‡§à‡§∏‡•Ä (e-KYC) ‡§Ü‡§µ‡•á‡§¶‡§®
            </h2>
        </div>

        <div class="max-w-4xl mx-auto step-card border border-gray-100 overflow-hidden">
            
            <!-- Instruction Bar -->
            <div class="bg-blue-50 border-b border-blue-100 p-4 flex items-start gap-3">
                <i class="fas fa-info-circle text-blue-600 mt-1"></i>
                <div class="text-xs text-blue-800 leading-relaxed">
                    <strong>‡§Ö‡§®‡§ø‡§µ‡§æ‡§∞‡•ç‡§Ø ‡§®‡§ø‡§∞‡•ç‡§¶‡•á‡§∂:</strong> 
                    <ul class="list-disc ml-4 mt-1 space-y-1">
                        <li>‡§∏‡§Æ‡§ó‡•ç‡§∞ ‡§∏‡§¶‡§∏‡•ç‡§Ø ‡§Ü‡§à‡§°‡•Ä 9 ‡§Ö‡§Ç‡§ï‡•ã‡§Ç ‡§ï‡•Ä ‡§π‡•ã‡§®‡•Ä ‡§ö‡§æ‡§π‡§ø‡§è‡•§</li>
                        <li>‡§®‡§æ‡§Æ ‡§î‡§∞ ‡§ú‡§®‡•ç‡§Æ ‡§§‡§ø‡§•‡§ø ‡§Ü‡§ß‡§æ‡§∞ ‡§ï‡•á ‡§°‡•á‡§ü‡§æ ‡§ï‡•á ‡§Ö‡§®‡•Å‡§∏‡§æ‡§∞ ‡§π‡•Ä ‡§≠‡§∞‡•á‡§Ç‡•§</li>
                        <li>‡§∏‡§≠‡•Ä ‡§ú‡§æ‡§®‡§ï‡§æ‡§∞‡•Ä ‡§∏‡§π‡•Ä ‡§π‡•ã‡§®‡•á ‡§™‡§∞ ‡§π‡•Ä ‡§Ü‡§µ‡•á‡§¶‡§® ‡§∏‡§¨‡§Æ‡§ø‡§ü ‡§ï‡§∞‡•á‡§Ç‡•§</li>
                    </ul>
                </div>
            </div>

            <form id="samagraKycForm" class="p-6 md:p-10 space-y-10">

                <!-- 1. ‡§∏‡§¶‡§∏‡•ç‡§Ø ‡§™‡§π‡§ö‡§æ‡§® -->
                <section>
                    <h3 class="text-lg font-bold text-blue-800 mb-6 border-b pb-2 flex items-center gap-2">
                        <i class="fas fa-id-card text-sm"></i> 1. ‡§∏‡§Æ‡§ó‡•ç‡§∞ ‡§Ü‡§à‡§°‡•Ä ‡§µ‡§ø‡§µ‡§∞‡§£
                    </h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <label class="block text-sm font-bold text-gray-700 mb-2">‡§∏‡§Æ‡§ó‡•ç‡§∞ ‡§∏‡§¶‡§∏‡•ç‡§Ø ‡§Ü‡§à‡§°‡•Ä *</label>
                            <input type="number" name="memberId" class="form-input" placeholder="9 ‡§Ö‡§Ç‡§ï‡•ã‡§Ç ‡§ï‡•Ä ‡§Ü‡§à‡§°‡•Ä" required>
                        </div>
                        <div>
                            <label class="block text-sm font-bold text-gray-700 mb-2">‡§™‡§∞‡§ø‡§µ‡§æ‡§∞ ‡§Ü‡§à‡§°‡•Ä *</label>
                            <input type="number" name="familyId" class="form-input" placeholder="8 ‡§Ö‡§Ç‡§ï‡•ã‡§Ç ‡§ï‡•Ä ‡§Ü‡§à‡§°‡•Ä" required>
                        </div>
                    </div>
                </section>

                <!-- 2. ‡§Ü‡§ß‡§æ‡§∞ ‡§µ‡§ø‡§µ‡§∞‡§£ -->
                <section class="bg-gray-50 p-6 rounded-2xl border border-gray-200">
                    <h3 class="text-lg font-bold text-blue-800 mb-6 flex items-center gap-2">
                        <i class="fas fa-shield-check text-sm"></i> 2. ‡§Ü‡§ß‡§æ‡§∞ ‡§ú‡§æ‡§®‡§ï‡§æ‡§∞‡•Ä
                    </h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <label class="block text-sm font-bold text-gray-700 mb-2">‡§Ü‡§ß‡§æ‡§∞ ‡§®‡§Ç‡§¨‡§∞ *</label>
                            <input type="number" name="aadhaarNumber" class="form-input" placeholder="12 ‡§Ö‡§Ç‡§ï‡•ã‡§Ç ‡§ï‡§æ ‡§Ü‡§ß‡§æ‡§∞ ‡§®‡§Ç‡§¨‡§∞" required>
                        </div>
                        <div>
                            <label class="block text-sm font-bold text-gray-700 mb-2">‡§™‡•ç‡§∞‡§Æ‡§æ‡§£‡•Ä‡§ï‡§∞‡§£ ‡§ï‡§æ ‡§™‡•ç‡§∞‡§ï‡§æ‡§∞ *</label>
                            <select name="authMethod" class="form-input bg-white" required>
                                <option value="otp">‡§ì‡§ü‡•Ä‡§™‡•Ä (Aadhaar OTP)</option>
                                <option value="biometric">‡§¨‡§æ‡§Ø‡•ã‡§Æ‡•á‡§ü‡•ç‡§∞‡§ø‡§ï (Fingerprint)</option>
                            </select>
                        </div>
                    </div>
                </section>

                <!-- 3. ‡§µ‡•ç‡§Ø‡§ï‡•ç‡§§‡§ø‡§ó‡§§ ‡§ú‡§æ‡§®‡§ï‡§æ‡§∞‡•Ä -->
                <section>
                    <h3 class="text-lg font-bold text-blue-800 mb-6 border-b pb-2 flex items-center gap-2">
                        <i class="fas fa-user-edit text-sm"></i> 3. ‡§Ü‡§µ‡•á‡§¶‡§ï ‡§ï‡•Ä ‡§ú‡§æ‡§®‡§ï‡§æ‡§∞‡•Ä
                    </h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <label class="block text-sm font-bold text-gray-700 mb-2">‡§™‡•Ç‡§∞‡§æ ‡§®‡§æ‡§Æ (‡§Ö‡§Ç‡§ó‡•ç‡§∞‡•á‡§ú‡•Ä ‡§Æ‡•á‡§Ç) *</label>
                            <input type="text" name="applicantName" class="form-input" placeholder="‡§Ü‡§ß‡§æ‡§∞ ‡§ï‡•á ‡§Ö‡§®‡•Å‡§∏‡§æ‡§∞ ‡§®‡§æ‡§Æ" required>
                        </div>
                        <div>
                            <label class="block text-sm font-bold text-gray-700 mb-2">‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤ ‡§®‡§Ç‡§¨‡§∞ *</label>
                            <input type="tel" name="mobile" class="form-input" placeholder="10 ‡§Ö‡§Ç‡§ï‡•ã‡§Ç ‡§ï‡§æ ‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤" required>
                        </div>
                          <div>
      <label class="block text-sm font-bold text-gray-700 mb-2">
        ‡§à-‡§Æ‡•á‡§≤ ‡§Ü‡§à‡§°‡•Ä *
      </label>
      <input type="email" name="email"
             placeholder="example@gmail.com"
             class="form-input" required>
    </div>
                        <div>
                            <label class="block text-sm font-bold text-gray-700 mb-2">‡§ú‡§®‡•ç‡§Æ ‡§§‡§ø‡§•‡§ø *</label>
                            <input type="date" name="dob" class="form-input" required>
                        </div>
                        <div>
                            <label class="block text-sm font-bold text-gray-700 mb-2">‡§≤‡§ø‡§Ç‡§ó *</label>
                            <select name="gender" class="form-input bg-white" required>
                                <option value="">‡§ö‡•Å‡§®‡•á‡§Ç</option>
                                <option>‡§™‡•Å‡§∞‡•Å‡§∑ (Male)</option>
                                <option>‡§Æ‡§π‡§ø‡§≤‡§æ (Female)</option>
                                <option>‡§Ö‡§®‡•ç‡§Ø</option>
                            </select>
                        </div>
                    </div>
                </section>

                <!-- 4. ‡§ò‡•ã‡§∑‡§£‡§æ ‡§è‡§µ‡§Ç ‡§∏‡§¨‡§Æ‡§ø‡§ü -->
                <div class="pt-8 border-t space-y-6">
                    <div class="bg-amber-50 p-4 rounded-lg border border-amber-100 flex items-start gap-3">
                        <input type="checkbox" id="kyc-agree" class="mt-1 h-4 w-4 text-blue-600" required>
                        <label for="kyc-agree" class="text-xs text-amber-900 leading-relaxed italic">
                            ‡§Æ‡•à‡§Ç ‡§ò‡•ã‡§∑‡§£‡§æ ‡§ï‡§∞‡§§‡§æ ‡§π‡•Ç‡§Å ‡§ï‡§ø ‡§Æ‡•á‡§∞‡•á ‡§¶‡•ç‡§µ‡§æ‡§∞‡§æ ‡§¶‡•Ä ‡§ó‡§à ‡§ú‡§æ‡§®‡§ï‡§æ‡§∞‡•Ä ‡§™‡•Ç‡§∞‡•ç‡§£‡§§‡§É ‡§∏‡§§‡•ç‡§Ø ‡§π‡•à‡•§ ‡§Æ‡•à‡§Ç ‡§Ö‡§™‡§®‡•á ‡§Ü‡§ß‡§æ‡§∞ ‡§°‡•á‡§ü‡§æ ‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§∏‡§Æ‡§ó‡•ç‡§∞ ‡§à-‡§ï‡•á‡§µ‡§æ‡§à‡§∏‡•Ä ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ï‡§∞‡§®‡•á ‡§ï‡•Ä ‡§Ö‡§®‡•Å‡§Æ‡§§‡§ø ‡§™‡•ç‡§∞‡§¶‡§æ‡§® ‡§ï‡§∞‡§§‡§æ ‡§π‡•Ç‡§Å‡•§
                        </label>
                    </div>

                    <div class="flex gap-4">
                        <button type="submit" class="flex-1 bg-blue-700 text-white py-4 rounded-xl font-bold text-lg hover:bg-blue-800 shadow-xl shadow-blue-100 transition active:scale-95">
                            ‡§Ü‡§µ‡•á‡§¶‡§® ‡§ú‡§Æ‡§æ ‡§ï‡§∞‡•á‡§Ç
                        </button>
                        <button type="reset" class="px-8 py-4 bg-gray-100 text-gray-600 rounded-xl font-bold hover:bg-gray-200 transition">
                            ‡§∞‡•Ä‡§∏‡•á‡§ü
                        </button>
                    </div>
                </div>

            </form>
        </div>
    </main>
        <div id="footer"></div>
<script>
  (function(){
    emailjs.init("-HjIyXVqfuRKrznVE"); // ‚Üê ‡§Ø‡§π‡§æ‡§Å ‡§Ö‡§™‡§®‡•Ä Public Key ‡§°‡§æ‡§≤‡•ã
  })();
</script>
    <!-- Firebase Script Logic -->
    <script type="module">     
        import { initializeApp } from "https://www.gstatic.com/firebasejs/12.7.0/firebase-app.js";
        import { getFirestore, collection, addDoc, serverTimestamp } from "https://www.gstatic.com/firebasejs/12.7.0/firebase-firestore.js";

        // Firebase Config
        const firebaseConfig = {
            apiKey: "AIzaSyA-iZvVroV-H6aRs7X-mlnt_ra3_vnaNzg",
            authDomain: "allinone-aa89.firebaseapp.com",
            projectId: "allinone-aa89",
            storageBucket: "allinone-aa89.firebasestorage.app",
            messagingSenderId: "924003122498",
            appId: "1:924003122498:web:2c86505457236e60055cdb"
        };

        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);
        const form = document.getElementById("samagraKycForm");

        form.addEventListener("submit", async (e) => {
            e.preventDefault();
            try {
                const formData = new FormData(form);
               await addDoc(collection(db, "samagra_ekyc_requests"), {
  serviceType: "Samagra e-KYC Request",
  memberId: formData.get("memberId"),
  familyId: formData.get("familyId"),
  aadhaarLast4: formData.get("aadhaarNumber").slice(-4),
  authMethod: formData.get("authMethod"),
  applicantName: formData.get("applicantName"),
  mobile: formData.get("mobile"),
  email: formData.get("email"),
  dob: formData.get("dob"),
  gender: formData.get("gender"),
  status: "pending",
  createdAt: serverTimestamp()
});

                const applicationNumber =
      "AIO-" + docRef.id.substring(0, 8).toUpperCase();

    // 3Ô∏è‚É£ ‡§Ö‡§¨ EMAIL ‡§≠‡•á‡§ú‡•ã (‡§Ø‡§π‡•Ä ‡§∏‡§π‡•Ä ‡§ú‡§ó‡§π ‡§π‡•à ‚úÖ)
    await emailjs.send(
      "service_allinone",      // üëà EmailJS Service ID
      "template_7x246oi",     // üëà Template ID
      {
        to_email: form.email.value,
        to_name: form.applicantName.value,
        application_no: applicationNumber
      }
    );

    // 4Ô∏è‚É£ User ‡§ï‡•ã message ‡§¶‡§ø‡§ñ‡§æ‡§ì
    alert(
      "‚úÖ ‡§Ü‡§µ‡•á‡§¶‡§® ‡§∏‡§´‡§≤‡§§‡§æ‡§™‡•Ç‡§∞‡•ç‡§µ‡§ï ‡§ú‡§Æ‡§æ ‡§π‡•ã ‡§ó‡§Ø‡§æ ‡§π‡§Æ ‡§Ü‡§™‡§∏‡•á ‡§ú‡§≤‡•ç‡§¶ ‡§∏‡§Ç‡§™‡§∞‡•ç‡§ï ‡§ï‡§∞‡•á‡§Ç‡§ó‡•á\n\n" +
      "Application ID: " + applicationNumber +
      "\n\n‡§à‡§Æ‡•á‡§≤ ‡§Ü‡§™‡§ï‡•á ‡§™‡§§‡•á ‡§™‡§∞ ‡§≠‡•á‡§ú ‡§¶‡§ø‡§Ø‡§æ ‡§ó‡§Ø‡§æ ‡§π‡•à‡•§"
    );

    form.reset();

  } catch (error) {
    console.error(error);
    alert("‚ùå ‡§Ü‡§µ‡•á‡§¶‡§® ‡§Ø‡§æ ‡§à‡§Æ‡•á‡§≤ ‡§≠‡•á‡§ú‡§®‡•á ‡§Æ‡•á‡§Ç ‡§∏‡§Æ‡§∏‡•ç‡§Ø‡§æ ‡§Ü‡§à");
  }
});
    </script>
  <script>
  fetch("header.html")
    .then(res => res.text())
    .then(data => {
      document.getElementById("header").innerHTML = data;
    });

  fetch("footer.html")
    .then(res => res.text())
    .then(data => {
      document.getElementById("footer").innerHTML = data;
    });
</script>
  
</body>

</html>
